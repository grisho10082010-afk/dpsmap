<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Карта</title>

  <!-- Leaflet CDN -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  />
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    defer
  ></script>

  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <div id="topbar">
    <span>Карта</span>
    <button onclick="showCity()">Показать город</button>
    <button onclick="showPoints()">Показать точки</button>
    <span id="status">Загрузка…</span>
  </div>

  <div id="map"></div>

  <script>
    let map;

    function showCity() {
      map.setView([54.836, 37.61], 12);
    }

    function showPoints() {
      L.marker([54.836, 37.61]).addTo(map)
        .bindPopup("Пример точки")
        .openPopup();
    }

    window.addEventListener("load", () => {
      if (!window.L) {
        document.getElementById("status").textContent = "Leaflet не загрузился";
        alert("Leaflet не загрузился");
        return;
      }

      map = L.map("map").setView([54.836, 37.61], 12);

      L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
        maxZoom: 19,
        attribution: "© OpenStreetMap"
      }).addTo(map);

      document.getElementById("status").textContent = "Карта загружена";
    });
  </script>

</body>
</html>
